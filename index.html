<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Todo App </title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #020617;
      display: flex;
      justify-content: center;
      margin-top: 50px;
      color: #e5e7eb;
    }

    .todo-container {
      background: #0f172a;
      padding: 20px;
      width: 350px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.6);
    }

    h2 {
      text-align: center;
      color: #f8fafc;
    }

    .input-group {
      display: flex;
      gap: 10px;
    }

    input[type="text"] {
      flex: 1;
      padding: 8px;
      background: #020617;
      border: 1px solid #334155;
      color: #e5e7eb;
    }

    input::placeholder {
      color: #64748b;
    }

    button {
      padding: 8px 12px;
      cursor: pointer;
      background: #6366f1;
      border: none;
      color: white;
      transition: transform 0.2s, background 0.2s;
    }

    button:hover {
      transform: scale(1.05);
      background: #818cf8;
    }

    ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }

    li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px;
      border-bottom: 1px solid #1e293b;
      background: #1e293b;
      border-radius: 6px;
      margin-bottom: 6px;
      animation: slideIn 0.3s ease;
      transition: opacity 0.3s, transform 0.3s;
    }

    li.completed span {
      text-decoration: line-through;
      color: #64748b;
    }

    li.removing {
      opacity: 0;
      transform: translateX(30px);
    }

    .task-left {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
    }

    .task-left input[type="text"] {
      width: 100%;
    }

    .actions button {
      background: none;
      color: #94a3b8;
      margin-left: 5px;
    }

    .actions button:hover {
      color: #c7d2fe;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>

<div class="todo-container">
  <h2>ðŸŒ™ Todo App</h2>

  <div class="input-group">
    <input type="text" id="taskInput" placeholder="Enter task"
      onkeydown="if(event.key==='Enter') addTask()">
    <button onclick="addTask()">Add</button>
  </div>

  <ul id="taskList"></ul>
</div>

<script>
  let tasks = [];
  let editingIndex = null;

  function addTask() {
    const input = document.getElementById("taskInput");
    const taskText = input.value.trim();

    if (taskText === "") return;

    tasks.push({ text: taskText, completed: false });
    input.value = "";
    renderTasks();
  }

  function renderTasks() {
    const list = document.getElementById("taskList");
    list.innerHTML = "";

    tasks.forEach((task, index) => {
      const li = document.createElement("li");
      if (task.completed) li.classList.add("completed");

      const left = document.createElement("div");
      left.className = "task-left";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = task.completed;
      checkbox.onchange = () => toggleComplete(index);

      left.appendChild(checkbox);

      if (editingIndex === index) {
        const editInput = document.createElement("input");
        editInput.type = "text";
        editInput.value = task.text;
        editInput.focus();

        editInput.onkeydown = e => {
          if (e.key === "Enter") finishEdit(index, editInput.value);
          if (e.key === "Escape") cancelEdit();
        };

        editInput.onblur = () => finishEdit(index, editInput.value);
        left.appendChild(editInput);
      } else {
        const span = document.createElement("span");
        span.textContent = task.text;
        span.ondblclick = () => startEdit(index);
        left.appendChild(span);
      }

      const actions = document.createElement("div");
      actions.className = "actions";

      const editBtn = document.createElement("button");
      editBtn.textContent = "Edit";
      editBtn.onclick = () => startEdit(index);

      const deleteBtn = document.createElement("button");
      deleteBtn.textContent = "Delete";
      deleteBtn.onclick = () => deleteTask(index, li);

      actions.append(editBtn, deleteBtn);

      li.append(left, actions);
      list.appendChild(li);
    });
  }

  function toggleComplete(index) {
    tasks[index].completed = !tasks[index].completed;
    renderTasks();
  }

  function deleteTask(index, li) {
    li.classList.add("removing");
    setTimeout(() => {
      tasks.splice(index, 1);
      renderTasks();
    }, 300);
  }

  function startEdit(index) {
    editingIndex = index;
    renderTasks();
  }

  function finishEdit(index, value) {
    if (value.trim()) {
      tasks[index].text = value.trim();
    }
    editingIndex = null;
    renderTasks();
  }

  function cancelEdit() {
    editingIndex = null;
    renderTasks();
  }
</script>

</body>
</html>
